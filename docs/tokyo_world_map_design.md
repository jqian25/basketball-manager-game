# 东京大地图设计文档

## 地图概述

基于真实东京都市布局，创建一个开罗游戏风格的完整可探索世界。

## 地图区域划分

### 1. 涩谷区 (Shibuya)
**核心地标：**
- 涩谷十字路口（世界最繁忙的十字路口）
- 涩谷109大楼（金色圆柱形建筑）
- 涩谷站（JR/地铁枢纽）
- TSUTAYA书店（绿色建筑）
- 篮球场（涩谷体育馆）

**地图尺寸：** 100x100瓦片（3200x3200像素）

**连接区域：** 原宿（北）、新宿（西）、中目黑（南）

### 2. 新宿区 (Shinjuku)
**核心地标：**
- 歌舞伎町（红色霓虹灯娱乐区）
- 东京都厅大楼（双塔建筑）
- 新宿站（世界最繁忙车站）
- 新宿御苑（大型日式庭园）
- 篮球场（新宿体育中心）

**地图尺寸：** 120x120瓦片（3840x3840像素）

**连接区域：** 涩谷（东）、中野（西）、代代木（南）

### 3. 秋叶原区 (Akihabara)
**核心地标：**
- 电器街（彩色LED广告牌）
- 动漫商店（多层建筑）
- 女仆咖啡店（粉色建筑）
- 秋叶原站（JR枢纽）
- 篮球场（秋叶原体育馆）

**地图尺寸：** 80x80瓦片（2560x2560像素）

**连接区域：** 上野（北）、神田（西）、浅草桥（东）

### 4. 浅草区 (Asakusa)
**核心地标：**
- 浅草寺雷门（红色大灯笼）
- 仲见世商店街（红白条纹遮阳篷）
- 五重塔（传统建筑）
- 隅田川（蓝色河流+樱花树）
- 东京晴空塔（远景，蓝色高塔）

**地图尺寸：** 90x90瓦片（2880x2880像素）

**连接区域：** 上野（西）、墨田（东）、秋叶原（南）

### 5. 原宿区 (Harajuku)
**核心地标：**
- 竹下通（狭窄购物街）
- 明治神宫（绿色森林+鸟居）
- 表参道（树荫大道）
- 原宿站（木质车站）
- 代代木公园（大型绿地）

**地图尺寸：** 70x70瓦片（2240x2240像素）

**连接区域：** 涩谷（南）、新宿（西）、代代木（西南）

### 6. 银座区 (Ginza)
**核心地标：**
- 银座购物街（金色奢华建筑）
- 和光百货（钟楼建筑）
- 歌舞伎座（传统剧场）
- 东京站（红砖历史建筑，远景）
- 皇居外苑（绿地+护城河，远景）

**地图尺寸：** 80x80瓦片（2560x2560像素）

**连接区域：** 有乐町（北）、筑地（东）、日比谷（西）

### 7. 台场区 (Odaiba)
**核心地标：**
- 彩虹大桥（悬索桥+彩色灯光）
- 富士电视台（球形建筑）
- 自由女神像（绿色雕像）
- 海滨公园（蓝色海水+沙滩）
- 东京国际展示场（倒金字塔）

**地图尺寸：** 100x100瓦片（3200x3200像素）

**连接区域：** 丰洲（北）、品川（西）

### 8. 上野区 (Ueno)
**核心地标：**
- 上野公园（粉色樱花树+蓝色池塘）
- 上野动物园（熊猫图标）
- 上野站（JR枢纽）
- 阿美横町商店街（红白遮阳篷）
- 东京国立博物馆（传统建筑）

**地图尺寸：** 85x85瓦片（2720x2720像素）

**连接区域：** 浅草（东）、秋叶原（南）、日暮里（北）

### 9. 中央枢纽区域
**核心地标：**
- 东京站（红砖历史建筑）
- 皇居（石墙+护城河+绿地）
- 东京塔（红色铁塔，333米）
- 国立竞技场（奥运主场馆）
- 东京巨蛋（白色圆顶）

**地图尺寸：** 150x150瓦片（4800x4800像素）

**连接区域：** 所有主要区域的中心枢纽

## 交通系统

### 新干线（Shinkansen）
- 白色流线型列车
- 连接东京站、品川站、上野站
- 动画：列车进站/出站

### JR山手线（Yamanote Line）
- 绿色环形线
- 连接所有主要车站
- 动画：列车循环运行

### 地铁系统
- 多条彩色线路
- 地下入口（楼梯图标）
- 快速传送系统

## 篮球场分布

### 主要篮球场（10个）
1. 涩谷体育馆（难度：Normal）
2. 新宿体育中心（难度：Normal）
3. 秋叶原体育馆（难度：Easy）
4. 国立竞技场（难度：Expert）
5. 东京巨蛋（难度：Hard）
6. 代代木体育馆（难度：Hard）
7. 有明体育馆（难度：Normal）
8. 驹泽奥林匹克公园（难度：Normal）
9. 江户川区体育馆（难度：Easy）
10. 大田区体育馆（难度：Easy）

### 街头篮球场（5个）
- 代代木公园（户外）
- 上野公园（户外）
- 台场海滨公园（户外）
- 中目黑运河边（户外）
- 吉祥寺公园（户外）

## 地图元素

### 地面类型
- 橙色砖地（#D2691E）- 人行道
- 灰色道路（#808080）- 车道
- 绿色草地（#228B22）- 公园
- 蓝色水面（#4169E1）- 河流/海洋

### 建筑类型
- 金色高层（#FFD700）- 商业大楼
- 红色屋顶（#FF6B6B）- 传统建筑
- 蓝色现代（#4169E1）- 现代建筑
- 米色住宅（#F5DEB3）- 居民楼

### 装饰元素
- 绿色树木（#228B22）
- 粉色樱花树（#FFB6C1）
- 路灯（黄色灯光）
- 红白条纹遮阳篷（商店）
- 蓝色长凳（观众席）
- 橙色训练锥桶（篮球场）

### NPC分布
- 教练（体育馆）
- 商店老板（商业区）
- 路人（街道）
- 球员（篮球场）
- 啦啦队（比赛场馆）

## 地图生成策略

### 方法1：瓦片地图（推荐）
1. 生成32x32像素瓦片集（约150个瓦片）
2. 使用Tiled编辑器手动布局
3. 导出JSON格式
4. Phaser加载并渲染

### 方法2：程序化生成
1. 定义区域模板
2. 使用算法自动放置建筑
3. 添加道路网络
4. 填充装饰元素

### 方法3：大图拼接（当前使用）
1. 生成每个区域的完整场景图（512x512px）
2. 在运行时拼接成大地图
3. 实现场景切换系统

## 实现优先级

### 第一阶段（核心区域）
1. ✅ 涩谷十字路口
2. ⏳ 新宿歌舞伎町
3. ⏳ 秋叶原电器街
4. ⏳ 浅草寺雷门
5. ⏳ 台场海滨公园

### 第二阶段（扩展区域）
6. ⏳ 原宿竹下通
7. ⏳ 银座购物街
8. ⏳ 上野公园
9. ⏳ 中央枢纽（东京站+皇居+东京塔）

### 第三阶段（完整连接）
10. ⏳ 所有区域互联
11. ⏳ 交通系统
12. ⏳ 完整NPC网络
13. ⏳ 任务系统

## 技术规格

- **瓦片尺寸：** 32x32像素
- **地图总尺寸：** 约1000x1000瓦片（32000x32000像素）
- **可视区域：** 800x600像素（25x19瓦片）
- **相机缩放：** 0.5x - 2.0x
- **帧率目标：** 60 FPS
- **内存优化：** 只加载可视区域周围的瓦片

## 文件结构

```
client/public/
├── maps/tokyo/
│   ├── shibuya/
│   │   ├── shibuya_crossing.png (512x512)
│   │   ├── shibuya_109.png
│   │   └── shibuya_station.png
│   ├── shinjuku/
│   ├── akihabara/
│   ├── asakusa/
│   ├── harajuku/
│   ├── ginza/
│   ├── odaiba/
│   └── ueno/
├── tilesets/
│   ├── ground/ (地面瓦片)
│   ├── buildings/ (建筑瓦片)
│   ├── decorations/ (装饰瓦片)
│   └── basketball/ (篮球场瓦片)
└── references/tokyo_landmarks/ (112张参考图)
```

## 下一步行动

1. 完成核心瓦片集生成（50个关键瓦片）
2. 创建涩谷区完整瓦片地图
3. 实现Phaser瓦片地图加载系统
4. 添加碰撞检测和交互系统
5. 扩展到其他区域

